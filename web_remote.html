<html>
    <head>
        <style>
        body
        {
            background-color:#cccccc;
        }
        img
        {
            border-style:solid;
            border-color:#bbbbff;
            border-width:1;
            margin:2px;
        }

        </style>
        <script src="/socket.io/socket.io.js"></script>
        <script type="text/javascript">
            var socket = io.connect();
            var connected = false;
            var pageNames = [ '' ];
            socket.on('connect', function() { connected = true; });
            socket.on('currentpage', function(p) {
                document.getElementById('CurrentPageThumbnail').innerHTML = '<img src="thumbnails/page' + p + '.png" />';
                document.getElementById('CurrentPageCaption').innerHTML = p + '. ' + pageNames[p];
            });
            socket.on('pagenames', function(names) {
                var html = '';
                var thumb = '';
                pageNames = names;
                console.log('pageNames', pageNames);
                for (var i = 1; i < pageNames.length; i++) {
                    thumb += '<a href="javascript:void(0);" onclick="gotoPage('
                           + i + ');"><img src="thumbnails/page' + i
                           + '.png" title="Page ' + i + ': ' + pageNames[i]
                           + '" /></a>';
                }
                document.getElementById('Thumbnails').innerHTML = thumb;
               
            });
            function nextPage() { if (connected) socket.emit('next'); }
            function prevPage() { if (connected) socket.emit('prev'); }
            function gotoPage(n) { if (connected) socket.emit('gotopage', n); }
        </script>
    </head>
    <body>
        <div>
            <center>
            <button type="button" onclick="prevPage();">&lt;&lt;</button>
            <span id="CurrentPageThumbnail"></span>
            <button type="button" onclick="nextPage();">&gt;&gt;</button>
            <br />
            <span id="CurrentPageCaption"></span>
            </center>
            <br />
            <span id="Thumbnails"></span>
        </div>
    </body>
</html>
